{% extends 'base.html' %} {% load static %} {% load humanize %} {% block styles %}
<link rel="stylesheet" href="{% static 'css/user-profile-styles.css' %}" />
<link rel="stylesheet" href="{% static 'css/entries-styles.css' %}" />

{% endblock %} {% block content %}

<div class="row sidebar-margin">
  {% include 'users/snippets/profile_card.html' %}

  <div class="m-auto col-12 col-md-10">
    <div
      class="d-flex flex-wrap w-100 m-auto card-container justify-content-center justify-content-md-start">
      {% for entry in page_obj %}
      <div class="card-outer mb-md-2 p-1">
        <div class="card inner-card h-100">
          <div class="card-header pt-3">
            <a href="{% url 'dashboard_entry' user.username entry.slug %}"
              class="ms-1 d-inline-block">
              <h3>
                {% if entry.publish == 0 %}
                <i class="fa-solid fa-lock publicity-icon align-middle"></i>
                {% else %}
                <i class="fa-solid fa-globe publicity-icon"></i>
                {% endif %} {{ entry.title }}
              </h3>
            </a>
          </div>
          <div class="card-body d-flex flex-column">
            <audio controls class="w-100 my-3">
              <source src="{{ entry.audio_file.url }}" type="audio/mpeg" />
              Your browser does not support the audio tag.
            </audio>
            <p class="text-muted flex-fill">
              Created {{ entry.created_on|naturalday }}
            </p>

            <div class="tag-container">
              <p class="m-0">
                {% for tag in entry.tags.all %}
                <a href="{% url 'filter_tag' tag %}">
                  <span class="tag hover-highlight">{{ tag }}</span>
                </a>
                {% endfor %}
              </p>
            </div>
          </div>
          <div class="card-footer d-flex flex-wrap align-content-center">
            {% include 'likes/snippets/like_comment_summary.html' %}
          </div>
        </div>
      </div>

      {% empty %}
      <div>
        <p>No one has uploaded any songs yet.</p>
      </div>
      {% endfor %}
    </div>
  </div>
</div>

{% include 'pagination.html' %}

<!-- <div class="container">
        <h1>My Entries</h1>

        <a href="{% url 'new_entry' user.username %}" class="btn btn-success" role="button">New Entry</a>

        <form method="GET">
            <p>Sort entries:</p>
            <button name="sorted" id="by_likes" value="by_likes" class="btn btn-primary" href="#" type="submit">Most
                popular</button>
            <button name="sorted" id="by_date" value="by_date" class="btn btn-primary" href="#" type="submit">Newest
                first</button>
            <button name="sorted" id="by_published" value="by_published" class="btn btn-primary" href="#"
                type="submit">Unpublished first</button>
            <button name="sorted" id="by_updated" value="by_updated" class="btn btn-primary" href="#" type="submit">Last
                updated first</button>
        </form> -->

<!-- Maybe load entry details for this user on the profile page? -->

<!-- 
{% for entry in page_obj %}
<div class="card">
    <div class="card-header">
        <div class="d-flex flex-row align-items-center">
            {% if entry.publish == 0 %}
            <i class="fa-solid fa-lock"></i>
            {% else %}
            <i class="fa-solid fa-globe"></i>
            {% endif %}
            <a href="{% url 'dashboard_entry' user.username entry.slug %}" class="ms-3">
                <h3>{{ entry.title }}</h3>
            </a>
        </div>

        <p>Created: {{ entry.created_on|date:"Y, M d" }}</p>
    </div>
    <div class="card-body">
        <audio controls class="w-100">
            <source src="{{ entry.audio_file.url }}" type="audio/mpeg">
            Your browser does not support the audio tag.
        </audio>
        <p>
            {{ entry.tags.all|join:", " }}
        </p>

        {% include 'likes/snippets/like_comment_summary.html' %}

    </div>
</div>
{% empty %}
<div>
    <p>This user has not uploaded any songs yet.</p>
</div>
{% endfor %}

{% include 'pagination.html' %}

</div>
</div> -->

{% endblock %} {% block extras %}
<script src="{% static 'js/likes.js' %}"></script>
{% endblock %}
