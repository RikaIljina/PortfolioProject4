{% extends 'base.html' %}
{% load static %}

{% block content %}

{% for like in page_obj %}
{% with like.entry as entry %}
<div class="card">
    <div class="card-header">
        <p>
            {% if "placeholder" in entry.author.profile.pic.url %}
            <img src="{% static 'images/default_profile.jpg' %}" alt="user profile picture" width="30" height="30"
                class="rounded-circle">
            {% else %}
            <img src="{{ entry.author.profile.pic.url }}" alt="user profile picture" width="30" height="30"
                class="rounded-circle">
            {% endif %}
            <a href="{% url 'user_profile' entry.author.username %}">{{ entry.author }}</a>
        </p>
        <a href="{% url 'entry_details' entry.slug %}">
            <h3>{{ entry.title }}</h3>
        </a>
        <p>Created: {{ entry.created_on|date:"Y, M d" }}</p>
    </div>
    <div class="card-body">
        <audio controls class="w-100">
            <source src="{{ entry.audio_file.url }}" type="audio/mpeg">
            Your browser does not support the audio tag.
        </audio>
        <p>
            {{ entry.tags.all|join:", " }}
        </p>

    </div>
    {% with like as entry%}
    {% include 'likes/snippets/like_comment_summary.html' %}
    {% endwith %}

</div>
{% endwith %}

{% empty %}
<div>
    <p>You have no favorites yet.</p>
</div>
{% endfor %}

{% include 'pagination.html' %}

{% endblock %}

{% block extras %}
<script src="{% static 'js/likes.js' %}"></script>
{% endblock %}